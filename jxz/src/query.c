/* Generated by AetherLang C Backend */
#include <stdint.h>
#include <stdbool.h>
#include <stdio.h>
#include <stdlib.h>
#include <immintrin.h>  /* SSE/AVX */

/* AetherLang Runtime */
static void aether_print(const char* s) { printf("%s", s); }
static void aether_println(const char* s) { printf("%s\n", s); }
static void aether_print_i64(int64_t n) { printf("%lld", (long long)n); }
static void aether_println_i64(int64_t n) { printf("%lld\n", (long long)n); }
static void aether_assert(bool c) { if(!c) { fprintf(stderr, "Assertion failed\n"); exit(1); } }

/* Struct Definitions */
int32_t query_list_installed(void);
int32_t query_list_verbose(void);
int32_t query_list_outdated(void);
int32_t query_info(uint8_t*);
int32_t query_search(uint8_t*);
int32_t query_files(uint8_t*);
int32_t query_doctor(void);

int32_t query_list_installed(void) {
    int32_t _t4;
    int64_t _t1;
    int64_t _t3;
    uint8_t* _t0;
    uint8_t* _t2;
    
    _t0 = (uint8_t*)"==> Installed packages:\u{0}";
    puts(_t0);
    _t2 = (uint8_t*)"ls ~/.jxz/Cellar 2>/dev/null | while read pkg; do \n        version=$(ls ~/.jxz/Cellar/$pkg 2>/dev/null | head -1); \n        echo \"  $pkg ($version)\"; \n    done\u{0}";
    system(_t2);
    _t4 = (int32_t)0LL;
    return _t4;
}

int32_t query_list_verbose(void) {
    int32_t _t4;
    int64_t _t1;
    int64_t _t3;
    uint8_t* _t0;
    uint8_t* _t2;
    
    _t0 = (uint8_t*)"==> Installed packages (detailed):\u{0}";
    puts(_t0);
    _t2 = (uint8_t*)"for pkg in $(ls ~/.jxz/Cellar 2>/dev/null); do \n        version=$(ls ~/.jxz/Cellar/$pkg 2>/dev/null | head -1); \n        size=$(du -sh ~/.jxz/Cellar/$pkg 2>/dev/null | cut -f1); \n        echo \"  $pkg ($version) - $size\"; \n    done\u{0}";
    system(_t2);
    _t4 = (int32_t)0LL;
    return _t4;
}

int32_t query_list_outdated(void) {
    int32_t _t6;
    int64_t _t1;
    int64_t _t3;
    int64_t _t5;
    uint8_t* _t0;
    uint8_t* _t2;
    uint8_t* _t4;
    
    _t0 = (uint8_t*)"==> Outdated packages:\u{0}";
    puts(_t0);
    _t2 = (uint8_t*)"  (Checking for updates...)\u{0}";
    puts(_t2);
    _t4 = (uint8_t*)"  All packages up to date\u{0}";
    puts(_t4);
    _t6 = (int32_t)0LL;
    return _t6;
}

int32_t query_info(uint8_t* _arg0) {
    int32_t _t41;
    int32_t _t7;
    int32_t _t8;
    int64_t _t11;
    int64_t _t12;
    int64_t _t13;
    int64_t _t17;
    int64_t _t19;
    int64_t _t20;
    int64_t _t22;
    int64_t _t23;
    int64_t _t25;
    int64_t _t27;
    int64_t _t28;
    int64_t _t2;
    int64_t _t30;
    int64_t _t31;
    int64_t _t33;
    int64_t _t35;
    int64_t _t36;
    int64_t _t38;
    int64_t _t39;
    int64_t _t3;
    int64_t _t5;
    int64_t _t6;
    uint64_t _t10;
    uint64_t _t9;
    uint8_t* _t0;
    uint8_t* _t14;
    uint8_t* _t15;
    uint8_t* _t16;
    uint8_t* _t18;
    uint8_t* _t1;
    uint8_t* _t21;
    uint8_t* _t24;
    uint8_t* _t26;
    uint8_t* _t29;
    uint8_t* _t32;
    uint8_t* _t34;
    uint8_t* _t37;
    uint8_t* _t4;
    void* _t40;
    
    _t0 = _arg0;
    _t1 = (uint8_t*)"==> Package: \u{0}";
    puts(_t1);
    puts(_t0);
    _t4 = (uint8_t*)"\u{0}";
    puts(_t4);
    strlen(_t0);
    _t7 = (int32_t)_t6;
    _t8 = _t7;
    _t9 = (uint64_t)_t8;
    _t10 = (uint64_t)100LL;
    _t11 = _t9 + _t10;
    _t12 = (int64_t)_t11;
    malloc(_t12);
    _t14 = (uint8_t*)_t13;
    _t15 = _t14;
    _t16 = (uint8_t*)"Installed versions:\u{0}";
    puts(_t16);
    _t18 = (uint8_t*)"ls ~/.jxz/Cellar/\u{0}";
    strcpy(_t15, _t18);
    strcat(_t15, _t0);
    _t21 = (uint8_t*)" 2>/dev/null || echo \'  (not installed)\'\u{0}";
    strcat(_t15, _t21);
    system(_t15);
    _t24 = (uint8_t*)"Linked binaries:\u{0}";
    puts(_t24);
    _t26 = (uint8_t*)"ls -la ~/.jxz/bin 2>/dev/null | grep \'\u{0}";
    strcpy(_t15, _t26);
    strcat(_t15, _t0);
    _t29 = (uint8_t*)"\' || echo \'  (none)\'\u{0}";
    strcat(_t15, _t29);
    system(_t15);
    _t32 = (uint8_t*)"Size:\u{0}";
    puts(_t32);
    _t34 = (uint8_t*)"du -sh ~/.jxz/Cellar/\u{0}";
    strcpy(_t15, _t34);
    strcat(_t15, _t0);
    _t37 = (uint8_t*)" 2>/dev/null | cut -f1 || echo \'  N/A\'\u{0}";
    strcat(_t15, _t37);
    system(_t15);
    _t40 = (void*)_t15;
    free(_t40);
    _t41 = (int32_t)0LL;
    return _t41;
}

int32_t query_search(uint8_t* _arg0) {
    int32_t _t23;
    int32_t _t7;
    int32_t _t8;
    int64_t _t11;
    int64_t _t12;
    int64_t _t13;
    int64_t _t17;
    int64_t _t18;
    int64_t _t20;
    int64_t _t21;
    int64_t _t2;
    int64_t _t3;
    int64_t _t5;
    int64_t _t6;
    uint64_t _t10;
    uint64_t _t9;
    uint8_t* _t0;
    uint8_t* _t14;
    uint8_t* _t15;
    uint8_t* _t16;
    uint8_t* _t19;
    uint8_t* _t1;
    uint8_t* _t4;
    void* _t22;
    
    _t0 = _arg0;
    _t1 = (uint8_t*)"==> Searching for: \u{0}";
    puts(_t1);
    puts(_t0);
    _t4 = (uint8_t*)"\u{0}";
    puts(_t4);
    strlen(_t0);
    _t7 = (int32_t)_t6;
    _t8 = _t7;
    _t9 = (uint64_t)_t8;
    _t10 = (uint64_t)100LL;
    _t11 = _t9 + _t10;
    _t12 = (int64_t)_t11;
    malloc(_t12);
    _t14 = (uint8_t*)_t13;
    _t15 = _t14;
    _t16 = (uint8_t*)"grep -i \'\u{0}";
    strcpy(_t15, _t16);
    strcat(_t15, _t0);
    _t19 = (uint8_t*)"\' ~/.jxz/db/packages.idx 2>/dev/null || echo \'No packages found\'\u{0}";
    strcat(_t15, _t19);
    system(_t15);
    _t22 = (void*)_t15;
    free(_t22);
    _t23 = (int32_t)0LL;
    return _t23;
}

int32_t query_files(uint8_t* _arg0) {
    int32_t _t23;
    int32_t _t7;
    int32_t _t8;
    int64_t _t11;
    int64_t _t12;
    int64_t _t13;
    int64_t _t17;
    int64_t _t18;
    int64_t _t20;
    int64_t _t21;
    int64_t _t2;
    int64_t _t3;
    int64_t _t5;
    int64_t _t6;
    uint64_t _t10;
    uint64_t _t9;
    uint8_t* _t0;
    uint8_t* _t14;
    uint8_t* _t15;
    uint8_t* _t16;
    uint8_t* _t19;
    uint8_t* _t1;
    uint8_t* _t4;
    void* _t22;
    
    _t0 = _arg0;
    _t1 = (uint8_t*)"==> Files installed by: \u{0}";
    puts(_t1);
    puts(_t0);
    _t4 = (uint8_t*)"\u{0}";
    puts(_t4);
    strlen(_t0);
    _t7 = (int32_t)_t6;
    _t8 = _t7;
    _t9 = (uint64_t)_t8;
    _t10 = (uint64_t)80LL;
    _t11 = _t9 + _t10;
    _t12 = (int64_t)_t11;
    malloc(_t12);
    _t14 = (uint8_t*)_t13;
    _t15 = _t14;
    _t16 = (uint8_t*)"find ~/.jxz/Cellar/\u{0}";
    strcpy(_t15, _t16);
    strcat(_t15, _t0);
    _t19 = (uint8_t*)" -type f 2>/dev/null\u{0}";
    strcat(_t15, _t19);
    system(_t15);
    _t22 = (void*)_t15;
    free(_t22);
    _t23 = (int32_t)0LL;
    return _t23;
}

int32_t query_doctor(void) {
    int32_t _t28;
    int64_t _t11;
    int64_t _t13;
    int64_t _t15;
    int64_t _t17;
    int64_t _t19;
    int64_t _t1;
    int64_t _t21;
    int64_t _t23;
    int64_t _t25;
    int64_t _t27;
    int64_t _t3;
    int64_t _t5;
    int64_t _t7;
    int64_t _t9;
    uint8_t* _t0;
    uint8_t* _t10;
    uint8_t* _t12;
    uint8_t* _t14;
    uint8_t* _t16;
    uint8_t* _t18;
    uint8_t* _t20;
    uint8_t* _t22;
    uint8_t* _t24;
    uint8_t* _t26;
    uint8_t* _t2;
    uint8_t* _t4;
    uint8_t* _t6;
    uint8_t* _t8;
    
    _t0 = (uint8_t*)"==> Running diagnostics...\u{0}";
    puts(_t0);
    _t2 = (uint8_t*)"\u{0}";
    puts(_t2);
    _t4 = (uint8_t*)"Checking directories...\u{0}";
    puts(_t4);
    _t6 = (uint8_t*)"test -d ~/.jxz && echo \'  \u{2713} JXZ prefix exists\' || echo \'  \u{2717} JXZ prefix missing\'\u{0}";
    system(_t6);
    _t8 = (uint8_t*)"test -d ~/.jxz/bin && echo \'  \u{2713} bin directory exists\' || echo \'  \u{2717} bin directory missing\'\u{0}";
    system(_t8);
    _t10 = (uint8_t*)"test -d ~/.jxz/Cellar && echo \'  \u{2713} Cellar exists\' || echo \'  \u{2717} Cellar missing\'\u{0}";
    system(_t10);
    _t12 = (uint8_t*)"\u{0}";
    puts(_t12);
    _t14 = (uint8_t*)"Checking PATH...\u{0}";
    puts(_t14);
    _t16 = (uint8_t*)"echo $PATH | grep -q \'.jxz/bin\' && echo \'  \u{2713} ~/.jxz/bin in PATH\' || echo \'  \u{2717} ~/.jxz/bin NOT in PATH\'\u{0}";
    system(_t16);
    _t18 = (uint8_t*)"\u{0}";
    puts(_t18);
    _t20 = (uint8_t*)"Checking for broken symlinks...\u{0}";
    puts(_t20);
    _t22 = (uint8_t*)"find ~/.jxz/bin -type l ! -exec test -e {} \\; -print 2>/dev/null | head -5 || echo \'  \u{2713} No broken symlinks\'\u{0}";
    system(_t22);
    _t24 = (uint8_t*)"\u{0}";
    puts(_t24);
    _t26 = (uint8_t*)"==> Diagnostics complete\u{0}";
    puts(_t26);
    _t28 = (int32_t)0LL;
    return _t28;
}

