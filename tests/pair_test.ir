; Module: pair_test
; Functions: 3

fn Pair_make(__sret: *Pair, a: u64, b: u64) -> void {
  entry:
    %0 = arg0
    %1 = arg1
    %2 = arg2
    %3 = gep %0, 0
    store %1, %3
    %4 = gep %0, 1
    store %2, %4
    ret %0
}

fn print_num(n: u64) -> void {
  entry:
    %0 = arg0
    %1 = cast %0 to I32
    %3 = cast %1 to I64
    %2 = add 48 %3
    %4 = cast %2 to I32
    %5 = call putchar(%4)
    ret void
}

fn main() -> i32 {
  entry:
    %0 = call puts("=== Pair Field Test ===")
    %2 = cast 2 to U64
    %3 = alloca Pair
    call Pair_make(%3, 1, %2)
    %1 = %3
    %4 = call puts("Expected: 1 2")
    %5 = call puts("Got:")
    %7 = gep %1, 0
    %8 = load %7
    %6 = %8
    %10 = gep %1, 1
    %11 = load %10
    %9 = %11
    call print_num(%6)
    %12 = cast 32 to I32
    %13 = call putchar(%12)
    call print_num(%9)
    %14 = cast 10 to I32
    %15 = call putchar(%14)
    %17 = cast 7 to U64
    %18 = alloca Pair
    call Pair_make(%18, 3, %17)
    %16 = %18
    %19 = call puts("Expected: 3 7")
    %20 = call puts("Got:")
    %21 = gep %16, 0
    %22 = load %21
    call print_num(%22)
    %23 = cast 32 to I32
    %24 = call putchar(%23)
    %25 = gep %16, 1
    %26 = load %25
    call print_num(%26)
    %27 = cast 10 to I32
    %28 = call putchar(%27)
    %29 = call puts("Done!")
    %30 = cast 0 to I32
    ret %30
}

